---
title: "Deploy an Indexer (Subgraph) on Linea with The Graph"
description: "Step-by-step guide for deploying a subgraph on Linea using The Graph for efficient blockchain data indexing and querying."
---

Creating a subgraph on Linea using Mobula’s infrastructure is a straightforward task. This guide will help you set up and deploy your subgraph on the Linea network efficiently.

### What you’ll need

- Basic knowledge of The Graph and subgraphs.
- Your subgraph project files
- The Graph CLI installed
- A Mobula API key (for authentication)

### Walkthrough

<Steps>
  <Step title="Prepare Your Subgraph">
    Set up your subgraph for Linea. Update your `subgraph.yaml` file to reference Linea-specific contracts and events. If you don't have a subgraph, you can clone the Uniswap V2 (PancakeSwap) subgraph template and adapt it for Linea:

    ```bash
    git clone https://github.com/MobulaFi/univ2-subgraph-linea
    ```
  </Step>

  <Step title="Install Dependencies">
    Make sure you have The Graph CLI installed:

    ```bash
    npm install -g @graphprotocol/graph-cli
    ```
  </Step>

  <Step title="Build Your Subgraph">
    Compile your subgraph before deployment:

    ```bash
    graph codegen && graph build
    ```
  </Step>

  <Step title="Create the Subgraph">
    Use the following command to deploy your subgraph:

    ```bash
    graph create --node https://subgraph.mobula.io:8020
    ```
  </Step>

  <Step title="Deploy to Mobula's Linea Node">
    Use the following command to deploy your subgraph:

    ```bash
    graph deploy --node https://subgraph.mobula.io:8020 --ipfs https://subgraph.mobula.io:5001 --network linea
    ```
  </Step>

  <Step title="Authenticate">
    Upon request, provide your Mobula API key for authentication. For additional guidance on acquiring and utilizing your API key, see the [authentication section](https://docs.mobula.io/indexing-stream/authentification).
  </Step>

  <Step title="Monitor Deployment">
    After deployment, you’ll receive a URL to monitor your subgraph’s indexing progress and status.
  </Step>
</Steps>

### Best Practices

- Keep your subgraph up to date to ensure it aligns with the latest Linea network changes.
- Conduct comprehensive testing on a testnet before mainnet deployment.
- Continuously monitor performance and fine-tune queries for maximum efficiency.

### Troubleshooting

If you encounter deployment problems:

- Double-check your `subgraph.yaml` configuration.
- Verify that the network name and Mobula node URLs are correct.
- Make sure your API key is valid and properly authorized.

Need assistance? Our support team is ready to help with any questions or deployment challenges.

<CardGroup>
  <Card title="Support" icon="Telegram" href="https://t.me/MobulaPartnerBot?start=Mobula_API_Support_Key">Telegram</Card>
  <Card title="Support" icon="Slack" href="https://join.slack.com/t/mobulaapi/shared_invite/zt-29zrrpjnl-I0tyD73sy7zKy8q~KLL3Ug">Slack</Card>
  <Card title="Support" icon="Discord" href="https://discord.gg/JVT7xKm3AD">Discord</Card>
  <Card title="Email Support" icon="envelope" href="mailto:contact@mobulalabs.org">Email</Card>
</CardGroup>
